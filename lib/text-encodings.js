// Generated by CoffeeScript 1.3.3
var Iconv, convert, decode;

Iconv = require('iconv').Iconv;

decode = {
  latin1: new Iconv('ISO-8859-1', 'UTF-8'),
  utf16: new Iconv('UTF-16', 'UTF-8'),
  utf16be: new Iconv('UTF-16BE', 'UTF-8'),
  utf8: {
    convert: function(buffer) {
      return buffer;
    }
  }
};

convert = function(buffer) {
  return {
    from: function(encoding) {
      var _ref;
      convert = (_ref = decode[encoding]) != null ? _ref.convert : void 0;
      if (!convert) {
        throw new Error("Conversion from " + encoding + " unsupported");
      }
      return (convert(buffer)).toString();
    }
  };
};

module.exports = convert;
